<!DOCTYPE html>
<html lang="fr" class="background-100-e">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Skrollex</title>
        <meta name="description" content="Onepage Parallax Site" />
        <meta name="keywords" content="onepage, parallax" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="/assets/home/bower_components/fontawesome/css/font-awesome.min.css" />
        <link rel="stylesheet" href="/assets/home/bower_components/animate.css/animate.min.css" />
        <link rel="stylesheet" href="/assets/home/bower_components/minicolors/jquery.minicolors.css" />
        <link rel="stylesheet" href="/assets/home/bower_components/slick.js/slick/slick.css" />
        <link rel="stylesheet" href="/assets/home/bower_components/slick.js/slick/slick-theme.css" />
        <link rel="stylesheet" href="/assets/home/bootstrap/dist/css/bootstrap-custom.min.css" />
        <link rel="stylesheet" href="/assets/home/lib/linecons/style.css" />
        <link rel="stylesheet" href="/assets/home/styles/style.min.css" />
        <link rel="stylesheet" href="/assets/home/theme-custom.css" />
        <link rel="shortcut icon" href="/assets/home/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="/assets/home/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="/assets/home/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/assets/home/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="76x76" href="/assets/home/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/assets/home/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="120x120" href="/assets/home/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="/assets/home/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon" sizes="152x152" href="/assets/home/apple-touch-icon-152x152.png" />
    </head>
    <body class="state1 background-100-e">
        <div class="ext-nav background-95-h page-transition">
            <div class="container-fluid  half-height">
                <div class="row full-height">
                    <a href="#" data-toggle="modal" data-target="#statisticsRooms" class="col-md-4 colors-g background-solid full-height border-bottom border-lite">
                        <div class="text-center">
                            <span class="side-label"><i class="fa fa-line-chart" aria-hidden="true"></i></span>
                            <span class="side-title">Statistiques</span>
                        </div>
                    </a>
                    <a href="#" data-toggle="modal" data-target="#gamesModal" class="col-md-4 colors-g background-solid full-height border-bottom border-left border-lite">
                        <div class="text-center">
                            <span class="side-label"><i class="fa fa-list" aria-hidden="true"></i></span>
                            <span class="side-title">Mes parties</span>
                        </div>
                    </a>
                    <a href="#" data-toggle="modal" data-target="#myAccount" class="col-md-6 colors-a background-95-a full-height">
                        <div class="text-center">
                            <span class="side-label"><i class="fa fa-user" aria-hidden="true"></i></span>
                            <span class="side-title">Mon compte</span>
                        </div>
                    </a>
                    <a href="{{path('app_logout')}}" class="col-md-4 colors-g background-solid full-height border-bottom border-left border-lite">
                        <div class="text-center">
                            <span class="side-label"><i class="fa fa-list" aria-hidden="true"></i></span>
                            <span class="side-title">Se déconnecter</span>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <div class="page-border bottom colors-e background-solid">

        </div>
        <div class="page-border left colors-e background-solid">

        </div>
        <!-- BEGIN: Top menu -->
        <div class="page-border right colors-e background-solid"></div>
        <nav class="navbar navbar-default navbar-fixed-top page-transition colors-e background-solid" role="navigation" id="top-nav">
            <div class="container">
                <div class="navbar-header">
                    <a class="menu-toggle ext-nav-toggle visible-xs-block" data-target=".ext-nav" href="#"><span></span></a>
                    <a class="navbar-brand" href="{{ path('user_home') }}">SpinAnd<span class="highlight">GoGo</span> <i class="fa fa-trophy" aria-hidden="true"></i></a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="#" data-toggle="modal" data-target="#statisticsRooms" class="hover-effect">Statistiques</a></li>
                        <li><a href="#" data-toggle="modal" data-target="#gamesModal" class="hover-effect">Mes parties</a></li>
                        <li><a href="#" data-toggle="modal" data-target="#myAccount" class="hover-effect"><i class="li_user"></i> Mon compte <span style="font-size: 10px; color: white">({{ app.user.firstname }} {{ app.user.lastname }})</span></a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Modal Statistics Rooms -->
        <div class="modal fade" id="statisticsRooms" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title heading-e text-center" id="exampleModalLabel">Statistiques pour quelle salle ?</h5>
                    </div>
                    <div class="modal-body">
                        <a href="{{ path('user_home') }}" class="button background-h highlight-h" style="width: 100%">Toutes les salles (globale)</a>
                        {% for room in rooms %}
                            <a href="{{ path('user_stats_by_room', { 'id' : room.id }) }}" class="button background-h highlight-h" style="width: 100%">{{ room.name }}</a>
                        {% endfor %}
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="button background-c highlight-c" data-dismiss="modal">Fermer</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Modal Statistics Rooms -->
        <!-- Modal Games -->
        <div class="modal fade" id="gamesModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title heading-e text-center" id="exampleModalLabel">Parties pour quelle salle ?</h5>
                    </div>
                    <div class="modal-body">
                        <a href="{{ path('user_all_games') }}" class="button background-h highlight-h" style="width: 100%">Toutes les salles (globale)</a>
                        {% for room in rooms %}
                            <a href="{{ path('user_games_by_room', { 'id' : room.id }) }}" class="button background-h highlight-h" style="width: 100%">{{ room.name }}</a>
                        {% endfor %}
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="button background-c highlight-c" data-dismiss="modal">Fermer</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Modal Games -->
        <!-- Modal My Account -->
        <div class="modal fade" id="myAccount" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title heading-e text-center" id="exampleModalLabel">Gérer mon compte</h5>
                    </div>
                    <div class="modal-body">
                        <a href="#" class="button background-h highlight-h" style="width: 100%">Changer de mot de passe</a>
                        <a href="{{ path('app_logout') }}" class="button background-d highlight-d" style="width: 100%">Se déconnecter</a>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="button background-c highlight-c" data-dismiss="modal">Fermer</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Modal My Account -->
        <!-- END: Top menu -->
        <ul id="dot-scroll" class="colors-e background-solid"></ul>
        <div class="overlay-window gallery-overlay colors-g background-95-g" data-overlay-zoom="#work .content">
            <div class="overlay-control background-90-b">
                <a class="previos" href="#"></a>
                <a class="next" href="#"></a>
                <a class="cross" href="#"></a>
            </div>
            <div class="overlay-view"></div>
            <ul class="loader">
                <li class="background-highlight-e"></li>
                <li class="background-highlight-e"></li>
                <li class="background-highlight-e"></li>
            </ul>
        </div>
        <div class="overlay-window map-overlay colors-h background-75-h">
            <div class="overlay-control background-90-g">
                <a class="cross" href="#"></a>
            </div>
            <div class="overlay-view">
                <div class="map-canvas" data-latitude="42.487606" data-longitude="-71.115661" data-zoom="14">
                    <div class="map-marker" data-latitude="42.487606" data-longitude="-71.115661" data-text="Our awesome location"></div>
                    <div class="map-marker" data-latitude="42.485100" data-longitude="-71.113256" data-text="Our sales office"></div>
                </div>
            </div>
        </div>
        <div class="overlay-window credits-overlay colors-g background-95-g">
            <div class="overlay-control background-90-b">
                <a class="cross" href="#"></a>
            </div>
            <div class="overlay-view">
                <div class="content-container">
                    <h3>Credits</h3>
                    <ul>
                        <li>
                            Photos by:
                            <ul>
                                <li><a target="_blank" href="https://www.flickr.com/photos/katya_alagich/">Katya Alagich</a>, <a target="_blank" href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0 License</a></li>
                                <li><a target="_blank" href="https://www.flickr.com/photos/65047661@N00/">Jim Lukach</a>, <a target="_blank" href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0 License</a></li>
                                <li><a target="_blank" href="https://www.flickr.com/photos/johanl/">Johan Larsson</a>, <a target="_blank" href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0 License</a></li>
                                <li><a target="_blank" href="https://www.flickr.com/photos/johny/">John Kraus</a>, <a target="_blank" href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0 License</a></li>
                                <li><a target="_blank" href="https://www.flickr.com/photos/geishaboy500/">THOR</a>, <a target="_blank" href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0 License</a></li>
                                <li><a target="_blank" href="https://www.flickr.com/photos/stf-o/">stephane</a>, <a target="_blank" href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0 License</a></li>
                                <li><a target="_blank" href="http://www.pexels.com/">Pexels</a>, <a target="_blank" href="http://www.pexels.com/photo-license/">CC0 License</a></li>
                                <li><a target="_blank" href="https://stocksnap.io/">Stocksnap</a>, <a target="_blank" href="https://stocksnap.io/license">CC0 License</a></li>
                                <li><a target="_blank" href="http://picjumbo.com/">Picjumbo</a>, <a target="_blank" href="http://picjumbo.com/about-author/">Picjumbo License</a></li>
                            </ul>
                        </li>
                        <li>
                            Video by:
                            <ul>
                                <li><a target="_blank" href="http://mazwai.com/">Mazwai</a>, <a target="_blank" href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0 License</a></li>
                            </ul>
                        </li>
                        <li>
                            Icons by:
                            <ul>
                                <li><a target="_blank" href="http://designmodo.com/">Designmodoh</a>, <a target="_blank" href="http://designmodo.com/linecons-free/">License</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="gate colors-e background-solid">
            <div class="gate-bar background-heading-e"></div>
            <ul class="loader">
                <li class="background-heading-e"></li>
                <li class="background-heading-e"></li>
                <li class="background-heading-e"></li>
            </ul>
        </div>
        <!-- BEGIN: Page content -->
        <section id="home">
            <a href="{{ path('user_add_game') }}" class="buttonAddGame button background-b highlight-b">Ajouter une partie</a>
            <div class="view">

                <img alt class="bg" src="https://images4.alphacoders.com/418/41814.jpg" /><img alt class="bg" src="https://images.alphacoders.com/794/79423.jpg" /><img alt class="bg" src="https://images6.alphacoders.com/449/449381.jpg" />
                <div class="content contentUserPage home-suzi full-size colors-h background-3">
                    <div class="container">
                        <div class="show-list slogan titleUserPage bg-warning">
                            <div class="show-item">Statistiques globales</div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">
                                <h4 style="color: white">Courbe de progression</h4>
                                <canvas id="myChart"></canvas>
                            </div>
                            <div class="col-md-4">
                                <h4 style="color: white">Dernières parties</h4>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th class="text-left">Date</th>
                                            <th class="text-center">Buy-in</th>
                                            <th class="text-right">Gain</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    {% for game in games |reverse | slice(0, 6) %}
                                        {% if game.price != 0 %}
                                            <tr class="success">
                                                <td class="text-left">{{ game.createdAt|date("d/m/Y H:m:s") }}</td>
                                                <td class="text-center">{{ game.buyIn }} €</td>
                                                <td class="text-right">{{ game.price - game.buyIn }} € <i class="fa fa-check" aria-hidden="true"></i></td>
                                            </tr>
                                        {% else %}
                                            <tr class="danger">
                                                <td class="text-left">{{ game.createdAt|date("d/m/Y H:m:s") }}</td>
                                                <td class="text-center">{{ game.buyIn }} €</td>
                                                <td class="text-right">{{ game.price - game.buyIn }} € <i class="fa fa-times" aria-hidden="true"></i></td>
                                            </tr>
                                        {% endif %}
                                    {% endfor %}
                                    </tbody>
                                </table>
                                <div class="text-right">
                                    <a href="{{ path('user_all_games') }}" class="button background-g highlight-g">Voir tout</a>
                                </div>
                            </div>
                        </div>
                        <div class="row counters" style="margin-bottom: 80px; margin-right: 15px; margin-left: 15px">
                            <h4 style="color: white;">Statistiques</h4>

                            <div class="col-md-3 counter background-35-b">
                                <div>Partie(s) jouée(s)</div>
                                <div class="row heading background-10-light"></div><span id="nbreGame" class="caption" style="font-size: 20px"></span>
                            </div>
                            <div class="col-md-3 counter background-35-h">
                                <div>Profit</div>
                                <div class="row heading background-10-light"></div><span id="totalEarning" class="caption" style="font-size: 20px"></span>
                            </div>
                            <div class="col-md-3 counter background-35-b">
                                <div>ROI</div>
                                <div  class="row heading background-10-light"></div><span id="roi" class="caption" style="font-size: 20px"></span>
                            </div>
                            <div class="col-md-3 counter background-35-h">
                                <div>Buy-in moyen</div>
                                <div class="row heading background-10-light"></div><span id="buyInMoyenDiv" class="caption" style="font-size: 20px"></span>
                            </div>
                            <div class="col-md-6 counter background-35-b">
                                <div>ITM</div>
                                <div  class="row heading background-10-light"></div><span id="itmDiv" class="caption" style="font-size: 20px"></span>
                            </div>
                            <div class="col-md-6 counter background-35-h">
                                <div>Mise total</div>
                                <div class="row heading background-10-light"></div><span id="totalBetDiv" class="caption" style="font-size: 20px"></span>
                            </div>
                            <div class="col-md-6 counter background-35-h">
                                <div>Max Série gagnante</div>
                                <div class="row heading background-10-light"></div><span id="maxSerieWinDiv" class="caption" style="font-size: 20px"></span>
                            </div>
                            <div class="col-md-6 counter background-35-b">
                                <div>Max série perdante</div>
                                <div class="row heading background-10-light"></div><span id="maxSerieLoseDiv" class="caption" style="font-size: 20px"></span>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>
        <script>
            if (typeof(atob) == "undefined")
            {
                document.write('<script src="/assets/home/lib/stringencoders-v3.10.3/javascript/base64.js"><\/script>');
                var atob = function(x)
                {
                    return base64.decode(x);
                }
            }
        </script>
        <script src="/assets/home/bower_components/less.js/dist/less.min.js"></script>
        <script src="/assets/home/bower_components/jquery/dist/jquery.min.js"></script>
        <script src="/assets/home/lib/tween/tween.min.js"></script>
        <script src="/assets/home/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="/assets/home/lib/modernizr-edited.js"></script>
        <script src="/assets/home/lib/SmoothScroll-1.4.9/SmoothScroll.js"></script>
        <script src="/assets/home/bower_components/jquery-cookie/jquery.cookie.js"></script>
        <script src="/assets/home/bower_components/jqBootstrapValidation/dist/jqBootstrapValidation-1.3.7.min.js"></script>
        <script src="/assets/home/bower_components/minicolors/jquery.minicolors.min.js"></script>
        <script src="/assets/home/bower_components/slick.js/slick/slick.min.js"></script>
        <script src="/assets/home/bower_components/shufflejs/dist/jquery.shuffle.min.js"></script>
        <script src="/assets/home/bower_components/textillate/assets/jquery.lettering.js"></script>
        <script src="/assets/home/bower_components/textillate/assets/jquery.fittext.js"></script>
        <script src="/assets/home/bower_components/textillate/jquery.textillate.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
        <script src="/assets/home/lib/prism/prism.js"></script>
        <script>
            $.ajax({
                type: "GET",
                url: "/user/user_get_games_for_chart",
                dataType: "json",
                success: function([nbreGame, bankroll, roi, nbreGameEmptyForChart, buyInMoyen, itm, totalBet, maxSerieWin, maxSerieLose]) {

                    let realBR = JSON.parse(bankroll)
                    let totalEarnings = realBR.slice(-1)[0]
                    let nbreGames = JSON.parse(nbreGame).slice(-1)[0]

                    var nbreGameDiv = document.getElementById('nbreGame')
                    nbreGameDiv.textContent = nbreGames

                    var totalEarningDiv = document.getElementById('totalEarning')
                    totalEarningDiv.textContent = totalEarnings + " €"

                    var roiDiv = document.getElementById('roi')
                    roiDiv.textContent = roi + " %"

                    let buyInMoyenDiv = document.getElementById('buyInMoyenDiv');
                    buyInMoyenDiv.textContent = buyInMoyen + " €"

                    let itmDiv = document.getElementById('itmDiv');
                    itmDiv.textContent = itm + " %"

                    let totalBetDiv = document.getElementById('totalBetDiv');
                    totalBetDiv.textContent = totalBet + " €"

                    let maxSerieWinDiv = document.getElementById('maxSerieWinDiv');
                    maxSerieWinDiv.textContent = maxSerieWin

                    let maxSerieLoseDiv = document.getElementById('maxSerieLoseDiv');
                    maxSerieLoseDiv.textContent = maxSerieLose


                    var ctx = document.getElementById('myChart').getContext('2d');
                    var myChart = new Chart(ctx, {
                        type: 'line',
                        cubicInterpolationMode: 'monotone',
                        tooltips : false,
                        data: {
                            labels: JSON.parse(nbreGameEmptyForChart),
                            datasets: [{
                                label: '€',
                                data: JSON.parse(bankroll),
                                backgroundColor: [
                                    'rgba(204, 176, 138, 0.2)',
                                    'rgba(54, 162, 235, 0.2)',
                                    'rgba(255, 206, 86, 0.2)',
                                    'rgba(75, 192, 192, 0.2)',
                                    'rgba(153, 102, 255, 0.2)',
                                    'rgba(255, 159, 64, 0.2)'
                                ],
                                borderColor: [
                                    'rgba(0, 153, 51, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(255, 206, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 159, 64, 1)'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            tooltips: {
                                // Disable the on-canvas tooltip
                                enabled: false,
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            }
                        }
                    }});
                }
            });
        </script>
        <script>
            (function()
            {
                var disableMobileAnimations = true;
                var isWin = navigator.appVersion.indexOf("Win") !== -1;
                if (isWin) $('html').addClass('win');
                var ua = navigator.userAgent.toLowerCase();
                var isChrome = ua.indexOf('chrome') > -1;
                if (isChrome) $('html').addClass('chrome');
                var isAndroidBrowser4_3minus = ((ua.indexOf('mozilla/5.0') > -1 && ua.indexOf('android ') > -1 && ua.indexOf('applewebkit') > -1) && !(ua.indexOf('chrome') > -1));
                if (isAndroidBrowser4_3minus) $('html').addClass('android-browser-4_3minus');
                var isSafari = !isChrome && ua.indexOf('safari') !== -1;
                if (isSafari) $('html').addClass('safari');
                var isMobile = false; //Change false to Modernizr.touch if you want to disable animations on touchscreen devices;
                if (isMobile)
                {
                    $('html').addClass('mobile');
                    if (disableMobileAnimations) $('html').addClass('poor-browser');
                }
                else
                {
                    $('html').addClass('non-mobile');
                }
                if (isWin && isSafari)
                {
                    $('html').addClass('flat-animation');
                }
            })();
        </script>
        <script src="/assets/home/scripts/script-bundle.js"></script>
        <script>
            if (Function('/*@cc_on return document.documentMode===9@*/')())
            {
                $('html').addClass('ie9');
            }
            if (Function('/*@cc_on return document.documentMode===10@*/')())
            {
                $('html').addClass('ie10');
            }
            if (!!navigator.userAgent.match(/Trident.*rv\:11\./))
            {
                $('html').addClass('ie11');
            }
        </script>
    </body>
</html>